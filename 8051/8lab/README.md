# Аппаратная реализация ШИМ

В рамках работы были написаны программы на языках C и Assembler, которые заставляют светодиод менять яркость по нажатию кнопки, путём изменения скважности ШИМ. 

Как видно на рисунке ниже, программа выбрала режим работы программируемого массива счётчиков(ПМС) – 8-разрядный ШИМ. В PCA0CPH4 на момент начала работы программы уже записана скважность:

![Первый рисунок](<1.png>)

После первого нажатия кнопки происходит переключение скважности ШИМ, видно как в  PCA0CPH4 она уже записана, а вот в  PCA0CPL4 ещё нет, это значит, что пока ПМС работает со старой скважностью:

![Второй рисунок](<2.png>)

После переполнения PCA0 значение из  PCA0CPH4 запишется в  PCA0CPL4, а значит, новая скважность, выбранная нами после нажатия кнопки, теперь определяет работу ШИМ. Можно заметить, что диод не горит, это потому, что PCA0L пока меньше значения скважности, записанного в регистр  PCA0CPL4:

![Третий рисунок](<3.png>)

На последнем рисунке можно увидеть, что значение PCA0L равно значению в регистре PCA0CPL4, диод при этом светится. То же самое мы увидим вплоть до обнуления PCA0L:

![Четвёртый рисунок](<4.png>)
